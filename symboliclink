#!/bin/bash

symboliclink() {
    if [[ ! -h ~/bin ]]; then #checking if the files exists and if it is a symbolic link. if it doesnt, then it creates. found from man test
    ln -sf ~/assignment2/project1/configfiles/bin ~/bin
        if [[ $? -eq 0 ]];
        then
            echo "bin symbolic link created"
        else
            echo "bin symbolic link creation failed"
            exit 1
        fi
    fi
    
    if [[ ! -L ~/.config ]]; then
    ln -sf ~/assignment2/project1/configfiles/config ~/.config
            if [[ $? -eq 0 ]];
        then
            echo "config symbolic link created"
        else
            echo "config symbolic link creation failed"
            exit 1
        fi
    fi

    if [[ ! -h ~/.bashrc ]]; then
    ln -sf ~/assignment2/project1/configfiles/home/bashrc ~/.bashrc
            if [[ $? -eq 0 ]];
        then
            echo "bashrc symbolic link created"
        else
            echo "bashrc symbolic link creation failed"
            exit 1
        fi
    fi
}

symboliclink #calls the function 
if [[ $? -eq 0 ]]; then #checks if the exit code of the function "symboliclink" is 0 (success)
    echo "All symbolic links successfully created!!"
else
    echo "Symbolic linking unsuccessful."
fi
